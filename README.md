# Stripe payment service
Django + Stripe API

### Описание
В этом проекте реализован простой сервис, который общается со Stripe и создает платёжные формы для товаров.
**_Ссылка на [админ зону сервиса](https://stripeservice.pythonanywhere.com/admin/ "Гиперссылка к сервису.")_**
- логин: admin
- пароль: admin
- Используйте эти данные для входа в админ зону для создания и тестирования оплаты. Можете протестировать уже созданные товары или создать новые. ВАЖНО!!! Чтобы начать покупки необходимо авторизоваться в админке.

### Доступные эндпоинты и пример использования
- **_Пример cсылки на [карточку товара](https://stripeservice.pythonanywhere.com/item/1/ "Гиперссылка к карточке товара.")_**. По ссылке https://stripeservice.pythonanywhere.com/item/<id_товара>/ доступна основная информация по товару. Чтобы начать оформление заказа необходимо добавить в корзину хотя бы 1 товар. Вы также можете перейти на страничку другого товара и добавить его в корзину. При оформлении стоимость всех товаров добавленных в корзину суммируется и применяются скидка и налог. В зависимости от валюты товара покупателю будет отображаться стоимость товара в валюте товара.
- **_Пример cсылки на [успешную страничку оплаты](https://stripeservice.pythonanywhere.com/success/1/ "Гиперссылка к успешной страничке.")_**. После успешной оплаты на сервисе пользователя автоматически переадресует на страничку успешной оплаты https://stripeservice.pythonanywhere.com/success/<id_товара>/ где он увидит необходимую информацию об оплате.
- **_Пример cсылки на [неуспешную страничку оплаты](https://stripeservice.pythonanywhere.com/cancel/1/ "Гиперссылка к неуспешной страничке.")_**. После неуспешной оплаты на сервисе пользователя автоматически переадресует на страничку неуспешной оплаты https://stripeservice.pythonanywhere.com/cancel/<id_товара>/ где он увидит необходимую информацию об оплате.


### Технологии
- Python 3.10
- Django 3.2.7
- Docker
- PostgreSQL

### Как запустить и протестировать проект локально:

Для тестирования необходим установленный Docker проверить его работоспособность вы можете используя команду:

```
docker --version
```

Если в логах появится примерно такая надпись, то все ок и можно двигаться дальше:

```
Docker version 24.0.6, build ed223bc
```

Клонировать репозиторий и перейти в него в командной строке:

```
git clone git@github.com:OlegMusatov3000/stripe-payment-service.git
```

Перейдите в основную директорию проекта 

```
cd stripe-payment-service
```

Запустите контейнеры Docker с помощью утилиты для оркестрации Docker Compose:

```
docker compose up -d
```

Соберем статику:

```
docker compose exec backend python manage.py collectstatic
```

Сделаем миграции:

```
docker compose exec backend python manage.py migrate 
```

Откройте в браузере страницу http://localhost:8000/admin/ и проверьте, что страница входа в админку отображается как следует

Далее вы можете создать суперюзера и протестировать проект локально:

```
docker compose exec backend python manage.py createsuperuser
```

### Небольшое примечание

Для вашего удобства я намеренно убрал .env из гитигнора. 

Этот readme был написан для удобного и понятного тестирования проекта. Пожалуйста оцените мои старания и предоставьте обратную связь в TG что можно было бы улучшить и чего не хватает для удовлетвория ваших ожиданий

- Tg: @OlegMusatov

### Автор проекта 
- Олег Мусатов
- Tg: @OlegMusatov